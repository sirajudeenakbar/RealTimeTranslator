{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{Globe,Send,History,User,Menu,X,Trash2,Download,Settings,Type,Copy,Check,Mic,Volume2,StopCircle,AlertCircle,LogOut}from'lucide-react';import LoginPage from'./LoginPage';// API Configuration\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:5000/api';const LanguageTranslator=()=>{var _languages$find,_languages$find2,_languages$find3,_languages$find4;const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[sourceLang,setSourceLang]=useState('en');const[targetLang,setTargetLang]=useState('es');const[isTranslating,setIsTranslating]=useState(false);const[currentView,setCurrentView]=useState('chat');const[history,setHistory]=useState([]);const[menuOpen,setMenuOpen]=useState(false);const[userName,setUserName]=useState('Guest User');const[userEmail,setUserEmail]=useState('guest@translator.com');const[textInput,setTextInput]=useState('');const[textOutput,setTextOutput]=useState('');const[copied,setCopied]=useState(false);const[isRecording,setIsRecording]=useState(false);const[isSpeaking,setIsSpeaking]=useState(false);const[audioTranscript,setAudioTranscript]=useState('');const[audioTranslation,setAudioTranslation]=useState('');const[error,setError]=useState('');const[availableLanguages,setAvailableLanguages]=useState([]);const[apiStatus,setApiStatus]=useState('disconnected');const[lastTranslationTime,setLastTranslationTime]=useState(0);const[nextTranslationReadyTime,setNextTranslationReadyTime]=useState(0);const[isAuthenticated,setIsAuthenticated]=useState(false);const[currentUser,setCurrentUser]=useState(null);const lastTranslationTimeRef=useRef(0);const recognitionRef=useRef(null);const messagesEndRef=useRef(null);// Check if user is logged in on mount\nuseEffect(()=>{const user=localStorage.getItem('user');const authToken=localStorage.getItem('authToken');if(user&&authToken){try{const userData=JSON.parse(user);setIsAuthenticated(true);setCurrentUser(userData);setUserName(userData.fullName||userData.firstName||'User');setUserEmail(userData.email||'user@translator.com');}catch(err){console.error('Error parsing user data:',err);localStorage.removeItem('user');localStorage.removeItem('authToken');}}},[]);const languages=[{code:'en',name:'English'},{code:'es',name:'Spanish'},{code:'fr',name:'French'},{code:'de',name:'German'},{code:'it',name:'Italian'},{code:'pt',name:'Portuguese'},{code:'ru',name:'Russian'},{code:'ja',name:'Japanese'},{code:'ko',name:'Korean'},{code:'zh',name:'Chinese'},{code:'ar',name:'Arabic'},{code:'hi',name:'Hindi'}];// Initialize API connection and fetch available languages\nuseEffect(()=>{const checkApiStatus=async()=>{try{const response=await fetch(\"\".concat(API_BASE_URL,\"/health\"));if(response.ok){setApiStatus('connected');// Fetch available languages from backend\nconst langResponse=await fetch(\"\".concat(API_BASE_URL,\"/languages\"));if(langResponse.ok){const data=await langResponse.json();if(data.success&&data.languages){setAvailableLanguages(data.languages);}}}else{setApiStatus('disconnected');setError('Backend API is not responding properly');}}catch(err){setApiStatus('disconnected');console.error('API connection error:',err);}};checkApiStatus();// Check API status every 30 seconds\nconst interval=setInterval(checkApiStatus,30000);return()=>clearInterval(interval);},[]);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const translateText=async text=>{setIsTranslating(true);setError('');try{if(apiStatus!=='connected'){throw new Error('Backend API is not available. Please ensure the server is running.');}// Get user email for API call\nconst userEmail=(currentUser===null||currentUser===void 0?void 0:currentUser.email)||userEmail||'anonymous@translator.app';const response=await fetch(\"\".concat(API_BASE_URL,\"/translate\"),{method:'POST',headers:{'Content-Type':'application/json','X-User-Email':userEmail},body:JSON.stringify({text:text,source_lang:sourceLang,target_lang:targetLang,user_email:userEmail})});const data=await response.json();if(!response.ok){throw new Error(data.error||'Translation failed');}if(data.success){return data.translated_text;}else{throw new Error(data.error||'Translation failed');}}catch(error){console.error('Translation error:',error);const errorMsg=error.message||'Translation error. Please try again.';setError(errorMsg);return\"Error: \".concat(errorMsg);}finally{setIsTranslating(false);}};const handleSend=async()=>{if(!input.trim())return;// Rate limiting check using ref for immediate feedback\nconst now=Date.now();const timeSinceLastTranslation=now-lastTranslationTimeRef.current;const RATE_LIMIT_MS=20000;// 20 seconds - buffer to avoid Google Translate rate limiting\nif(timeSinceLastTranslation<RATE_LIMIT_MS){const waitTime=Math.ceil((RATE_LIMIT_MS-timeSinceLastTranslation)/1000);setError(\"Please wait \".concat(waitTime,\" seconds before translating again (rate limiting)\"));return;}// Update rate limiting timestamp IMMEDIATELY (before translation starts)\nlastTranslationTimeRef.current=now;setLastTranslationTime(now);setNextTranslationReadyTime(now+20000);const userMessage={id:Date.now(),type:'user',text:input,lang:sourceLang,timestamp:new Date().toLocaleTimeString()};setMessages(prev=>[...prev,userMessage]);setInput('');const translation=await translateText(input);const botMessage={id:Date.now()+1,type:'bot',text:translation,lang:targetLang,timestamp:new Date().toLocaleTimeString()};setMessages(prev=>[...prev,botMessage]);const historyItem={id:Date.now(),original:input,translated:translation,from:sourceLang,to:targetLang,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()};setHistory(prev=>[historyItem,...prev]);};const clearHistory=()=>{setHistory([]);};const clearChat=()=>{setMessages([]);};const downloadHistory=()=>{const content=history.map(item=>\"[\".concat(item.date,\" \").concat(item.time,\"]\\nFrom: \").concat(item.from,\" \\u2192 To: \").concat(item.to,\"\\nOriginal: \").concat(item.original,\"\\nTranslated: \").concat(item.translated,\"\\n\\n\")).join('---\\n\\n');const blob=new Blob([content],{type:'text/plain'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='translation-history.txt';a.click();};const handleTextTranslate=async()=>{if(!textInput.trim())return;// Rate limiting check using ref for immediate feedback\nconst now=Date.now();const timeSinceLastTranslation=now-lastTranslationTimeRef.current;const RATE_LIMIT_MS=20000;// 20 seconds - buffer to avoid Google Translate rate limiting\nif(timeSinceLastTranslation<RATE_LIMIT_MS){const waitTime=Math.ceil((RATE_LIMIT_MS-timeSinceLastTranslation)/1000);setError(\"Please wait \".concat(waitTime,\" seconds before translating again (rate limiting)\"));return;}// Update rate limiting timestamp IMMEDIATELY (before translation starts)\nlastTranslationTimeRef.current=now;setLastTranslationTime(now);setNextTranslationReadyTime(now+20000);setIsTranslating(true);const translation=await translateText(textInput);setTextOutput(translation);setIsTranslating(false);const historyItem={id:Date.now(),original:textInput,translated:translation,from:sourceLang,to:targetLang,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()};setHistory(prev=>[historyItem,...prev]);};const copyToClipboard=()=>{navigator.clipboard.writeText(textOutput);setCopied(true);setTimeout(()=>setCopied(false),2000);};const swapLanguages=()=>{setSourceLang(targetLang);setTargetLang(sourceLang);setTextInput(textOutput);setTextOutput(textInput);};const getLanguageCode=lang=>{const langMap={'en':'en-US','es':'es-ES','fr':'fr-FR','de':'de-DE','it':'it-IT','pt':'pt-PT','ru':'ru-RU','ja':'ja-JP','ko':'ko-KR','zh':'zh-CN','ar':'ar-SA','hi':'hi-IN','ta':'ta-IN','si':'si-LK','th':'th-TH','vi':'vi-VN','tr':'tr-TR','pl':'pl-PL','nl':'nl-NL','sv':'sv-SE'};return langMap[lang]||'en-US';};const startRecording=()=>{if(!('webkitSpeechRecognition'in window||'SpeechRecognition'in window)){setError('Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.');return;}// Clear previous errors and transcript\nsetError('');setAudioTranscript('');setAudioTranslation('');try{const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;const recognition=new SpeechRecognition();// Configure recognition\nrecognition.continuous=false;// Changed to false for better control\nrecognition.interimResults=true;recognition.maxAlternatives=1;recognition.lang=getLanguageCode(sourceLang);let finalTranscript='';let interimTranscript='';recognition.onstart=()=>{setIsRecording(true);setError('');console.log('Speech recognition started');};recognition.onresult=event=>{finalTranscript='';interimTranscript='';for(let i=0;i<event.results.length;i++){const transcript=event.results[i][0].transcript;if(event.results[i].isFinal){finalTranscript+=transcript;}else{interimTranscript+=transcript;}}const currentTranscript=finalTranscript||interimTranscript;setAudioTranscript(currentTranscript);};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);setIsRecording(false);switch(event.error){case'no-speech':setError('No speech detected. Please try again and speak clearly.');break;case'audio-capture':setError('Microphone access denied or not available.');break;case'not-allowed':setError('Microphone permission denied. Please allow microphone access.');break;case'network':setError('Network error. Please check your internet connection.');break;case'service-not-allowed':setError('Speech recognition service not available.');break;default:setError(\"Speech recognition error: \".concat(event.error));}};recognition.onend=()=>{setIsRecording(false);console.log('Speech recognition ended');// If we have a transcript, automatically translate it\nif(finalTranscript.trim()){handleVoiceTranslation(finalTranscript.trim());}else if(interimTranscript.trim()){handleVoiceTranslation(interimTranscript.trim());}};recognition.start();recognitionRef.current=recognition;// Set a timeout to auto-stop after 10 seconds\nsetTimeout(()=>{if(recognitionRef.current&&isRecording){recognition.stop();}},10000);}catch(error){console.error('Failed to start speech recognition:',error);setError('Failed to start speech recognition. Please try again.');setIsRecording(false);}};const handleVoiceTranslation=async transcript=>{if(!transcript.trim())return;try{setIsTranslating(true);const translation=await translateText(transcript);setAudioTranslation(translation);// Add to history\nconst historyItem={id:Date.now(),original:transcript,translated:translation,from:sourceLang,to:targetLang,date:new Date().toLocaleDateString(),time:new Date().toLocaleTimeString()};setHistory(prev=>[historyItem,...prev]);}catch(error){console.error('Translation error:',error);setError('Translation failed. Please try again.');}finally{setIsTranslating(false);}};const stopRecording=()=>{if(recognitionRef.current){recognitionRef.current.stop();recognitionRef.current=null;}setIsRecording(false);};const speakText=(text,lang)=>{if('speechSynthesis'in window){window.speechSynthesis.cancel();const utterance=new SpeechSynthesisUtterance(text);utterance.lang=lang==='en'?'en-US':lang==='es'?'es-ES':lang==='fr'?'fr-FR':lang==='de'?'de-DE':lang==='it'?'it-IT':lang==='pt'?'pt-PT':lang==='ru'?'ru-RU':lang==='ja'?'ja-JP':lang==='ko'?'ko-KR':lang==='zh'?'zh-CN':lang==='ar'?'ar-SA':lang==='hi'?'hi-IN':'en-US';utterance.onstart=()=>setIsSpeaking(true);utterance.onend=()=>setIsSpeaking(false);utterance.onerror=()=>setIsSpeaking(false);window.speechSynthesis.speak(utterance);}else{alert('Text-to-speech is not supported in your browser.');}};const stopSpeaking=()=>{if('speechSynthesis'in window){window.speechSynthesis.cancel();setIsSpeaking(false);}};const handleLogout=()=>{localStorage.removeItem('user');localStorage.removeItem('authToken');setIsAuthenticated(false);setCurrentUser(null);setUserName('Guest User');setUserEmail('guest@translator.com');setMessages([]);setHistory([]);setCurrentView('chat');};const handleLoginSuccess=userData=>{setIsAuthenticated(true);setCurrentUser(userData);setUserName(userData.fullName);setUserEmail(userData.email);};// If not authenticated, show login page\nif(!isAuthenticated){return/*#__PURE__*/_jsx(LoginPage,{onLoginSuccess:handleLoginSuccess});}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\",children:[error&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 p-3 flex items-start space-x-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:error})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(''),className:\"text-red-600 hover:text-red-800\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),apiStatus!=='connected'&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-50 border border-yellow-200 p-2 flex items-center justify-between text-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-yellow-600 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-800\",children:\"Backend API: Connecting...\"})]})}),/*#__PURE__*/_jsxs(\"header\",{className:\"bg-white shadow-md px-4 py-3 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-8 h-8 text-indigo-600\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-800\",children:\"TranslatePro\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 rounded-full \".concat(apiStatus==='connected'?'bg-green-500':'bg-red-500')}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:apiStatus==='connected'?'Connected':'Offline'})]})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"hidden md:flex space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('text'),className:\"px-4 py-2 rounded-lg transition flex items-center space-x-2 \".concat(currentView==='text'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Type,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Text\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('voice'),className:\"px-4 py-2 rounded-lg transition flex items-center space-x-2 \".concat(currentView==='voice'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(Mic,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Voice\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentView('chat'),className:\"px-4 py-2 rounded-lg transition \".concat(currentView==='chat'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:\"Chat\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('history'),className:\"px-4 py-2 rounded-lg transition flex items-center space-x-2 \".concat(currentView==='history'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(History,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"History\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('account'),className:\"px-4 py-2 rounded-lg transition flex items-center space-x-2 \".concat(currentView==='account'?'bg-indigo-600 text-white':'text-gray-600 hover:bg-gray-100'),children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Account\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleLogout,className:\"px-4 py-2 rounded-lg text-gray-600 hover:bg-red-50 hover:text-red-600 transition flex items-center space-x-2\",title:\"Logout\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"md:hidden\",onClick:()=>setMenuOpen(!menuOpen),children:menuOpen?/*#__PURE__*/_jsx(X,{className:\"w-6 h-6\"}):/*#__PURE__*/_jsx(Menu,{className:\"w-6 h-6\"})})]}),menuOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"md:hidden bg-white shadow-lg p-4 space-y-2\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('text');setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 \".concat(currentView==='text'?'bg-indigo-600 text-white':'text-gray-600'),children:[/*#__PURE__*/_jsx(Type,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Text Translator\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('voice');setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 \".concat(currentView==='voice'?'bg-indigo-600 text-white':'text-gray-600'),children:[/*#__PURE__*/_jsx(Mic,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Voice Translator\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setCurrentView('chat');setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left \".concat(currentView==='chat'?'bg-indigo-600 text-white':'text-gray-600'),children:\"Chat Translator\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('history');setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 \".concat(currentView==='history'?'bg-indigo-600 text-white':'text-gray-600'),children:[/*#__PURE__*/_jsx(History,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"History\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setCurrentView('account');setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 \".concat(currentView==='account'?'bg-indigo-600 text-white':'text-gray-600'),children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Account\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{handleLogout();setMenuOpen(false);},className:\"w-full px-4 py-2 rounded-lg text-left text-red-600 hover:bg-red-50 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-1 overflow-hidden\",children:[currentView==='text'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full overflow-y-auto max-w-6xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Type,{className:\"w-6 h-6 text-indigo-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Text Translator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-center justify-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"From:\"}),/*#__PURE__*/_jsx(\"select\",{value:sourceLang,onChange:e=>setSourceLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:swapLanguages,className:\"p-2 hover:bg-gray-100 rounded-lg transition\",title:\"Swap languages\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 text-gray-600\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"To:\"}),/*#__PURE__*/_jsx(\"select\",{value:targetLang,onChange:e=>setTargetLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Enter text (\",(_languages$find=languages.find(l=>l.code===sourceLang))===null||_languages$find===void 0?void 0:_languages$find.name,\")\"]}),/*#__PURE__*/_jsx(\"textarea\",{value:textInput,onChange:e=>setTextInput(e.target.value),placeholder:\"Type or paste text here...\",className:\"w-full h-64 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\",disabled:isTranslating}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[textInput.length,\" characters\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setTextInput(''),className:\"text-sm text-red-500 hover:text-red-700\",children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:[\"Translation (\",(_languages$find2=languages.find(l=>l.code===targetLang))===null||_languages$find2===void 0?void 0:_languages$find2.name,\")\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:textOutput,readOnly:true,placeholder:\"Translation will appear here...\",className:\"w-full h-64 border border-gray-300 rounded-lg px-4 py-3 bg-gray-50 resize-none\"}),textOutput&&/*#__PURE__*/_jsx(\"button\",{onClick:copyToClipboard,className:\"absolute top-3 right-3 p-2 bg-white rounded-lg hover:bg-gray-100 transition shadow-sm\",title:\"Copy to clipboard\",children:copied?/*#__PURE__*/_jsx(Check,{className:\"w-5 h-5 text-green-500\"}):/*#__PURE__*/_jsx(Copy,{className:\"w-5 h-5 text-gray-600\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[textOutput.length,\" characters\"]}),copied&&/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-green-500\",children:\"Copied!\"})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTextTranslate,disabled:isTranslating||!textInput.trim(),className:\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center space-x-2\",children:isTranslating?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Translating...\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Globe,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Translate\"})]})})]})}),currentView==='voice'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full overflow-y-auto max-w-4xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-6 h-6 text-indigo-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Voice Translator\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-center justify-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Speak in:\"}),/*#__PURE__*/_jsx(\"select\",{value:sourceLang,onChange:e=>setSourceLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"\\u2192\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Translate to:\"}),/*#__PURE__*/_jsx(\"select\",{value:targetLang,onChange:e=>setTargetLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border-2 border-blue-200\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-5 h-5 text-blue-600\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Speech to Speech\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Speak and hear translation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border-2 border-green-200\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Mic,{className:\"w-5 h-5 text-green-600\"}),/*#__PURE__*/_jsx(Type,{className:\"w-5 h-5 text-green-600\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Speech to Text translation\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border-2 border-purple-200\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Type,{className:\"w-5 h-5 text-purple-600\"}),/*#__PURE__*/_jsx(Volume2,{className:\"w-5 h-5 text-purple-600\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Text to Speech translation\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center justify-center w-32 h-32 rounded-full mb-4 transition-all \".concat(isRecording?'bg-red-500 animate-pulse':'bg-indigo-600 hover:bg-indigo-700'),children:isRecording?/*#__PURE__*/_jsx(\"button\",{onClick:stopRecording,className:\"text-white\",children:/*#__PURE__*/_jsx(StopCircle,{className:\"w-16 h-16\"})}):/*#__PURE__*/_jsx(\"button\",{onClick:startRecording,className:\"text-white\",disabled:isTranslating,children:/*#__PURE__*/_jsx(Mic,{className:\"w-16 h-16\"})})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 font-medium\",children:isRecording?'Recording... Click to stop':'Click microphone to start speaking'}),isTranslating&&/*#__PURE__*/_jsx(\"p\",{className:\"text-indigo-600 mt-2\",children:\"Translating...\"})]}),(audioTranscript||audioTranslation)&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800\",children:[\"Original (\",(_languages$find3=languages.find(l=>l.code===sourceLang))===null||_languages$find3===void 0?void 0:_languages$find3.name,\")\"]}),audioTranscript&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>speakText(audioTranscript,sourceLang),disabled:isSpeaking,className:\"text-indigo-600 hover:text-indigo-700 disabled:opacity-50\",title:\"Listen\",children:/*#__PURE__*/_jsx(Volume2,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 min-h-20\",children:audioTranscript})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-indigo-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-semibold text-gray-800\",children:[\"Translation (\",(_languages$find4=languages.find(l=>l.code===targetLang))===null||_languages$find4===void 0?void 0:_languages$find4.name,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:audioTranslation&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>speakText(audioTranslation,targetLang),disabled:isSpeaking,className:\"text-indigo-600 hover:text-indigo-700 disabled:opacity-50\",title:\"Listen\",children:/*#__PURE__*/_jsx(Volume2,{className:\"w-5 h-5\"})}),isSpeaking&&/*#__PURE__*/_jsx(\"button\",{onClick:stopSpeaking,className:\"text-red-600 hover:text-red-700\",title:\"Stop\",children:/*#__PURE__*/_jsx(StopCircle,{className:\"w-5 h-5\"})})]})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800 min-h-20\",children:audioTranslation})]})]}),(audioTranscript||audioTranslation)&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setAudioTranscript('');setAudioTranslation('');stopSpeaking();},className:\"w-full mt-4 text-red-500 hover:text-red-700 py-2 rounded-lg hover:bg-red-50 transition\",children:\"Clear All\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-yellow-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" Voice features work best in Chrome, Edge, or Safari browsers. Make sure to allow microphone access when prompted.\"]})})]})}),currentView==='chat'&&/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col max-w-4xl mx-auto p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-4 mb-4 flex flex-wrap gap-4 items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"From:\"}),/*#__PURE__*/_jsx(\"select\",{value:sourceLang,onChange:e=>setSourceLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-400\",children:\"\\u2192\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"To:\"}),/*#__PURE__*/_jsx(\"select\",{value:targetLang,onChange:e=>setTargetLang(e.target.value),className:\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",children:languages.map(lang=>/*#__PURE__*/_jsx(\"option\",{value:lang.code,children:lang.name},lang.code))})]}),messages.length>0&&/*#__PURE__*/_jsxs(\"button\",{onClick:clearChat,className:\"ml-auto text-red-500 hover:text-red-700 text-sm flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Clear\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 bg-white rounded-lg shadow-md overflow-y-auto p-4 space-y-4\",children:[messages.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center text-gray-400\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(Globe,{className:\"w-16 h-16 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Start translating...\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mt-2\",children:\"Type a message below to begin\"})]})}):messages.map(msg=>{var _languages$find5;return/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(msg.type==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-xs md:max-w-md px-4 py-3 rounded-2xl \".concat(msg.type==='user'?'bg-indigo-600 text-white':'bg-gray-100 text-gray-800'),children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm mb-1\",children:msg.text}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs opacity-70 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:(_languages$find5=languages.find(l=>l.code===msg.lang))===null||_languages$find5===void 0?void 0:_languages$find5.name}),/*#__PURE__*/_jsx(\"span\",{children:msg.timestamp})]})]})},msg.id);}),isTranslating&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 px-4 py-3 rounded-2xl\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSend(),placeholder:\"Type your message...\",className:\"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\",disabled:isTranslating}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:isTranslating||!input.trim(),className:\"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"})})]})]}),currentView==='history'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full overflow-y-auto max-w-4xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800\",children:\"Translation History\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex space-x-2\",children:history.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"button\",{onClick:downloadHistory,className:\"text-indigo-600 hover:text-indigo-700 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Export\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:clearHistory,className:\"text-red-500 hover:text-red-700 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Clear\"})]})]})})]}),history.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-gray-400\",children:[/*#__PURE__*/_jsx(History,{className:\"w-16 h-16 mx-auto mb-4 opacity-50\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No translation history yet\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:history.map(item=>{var _languages$find6,_languages$find7;return/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[(_languages$find6=languages.find(l=>l.code===item.from))===null||_languages$find6===void 0?void 0:_languages$find6.name,\" \\u2192 \",(_languages$find7=languages.find(l=>l.code===item.to))===null||_languages$find7===void 0?void 0:_languages$find7.name]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400\",children:[item.date,\" \",item.time]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 mb-1\",children:\"Original\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:item.original})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs font-semibold text-gray-600 mb-1\",children:\"Translation\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-800\",children:item.translated})]})]})]},item.id);})})]})}),currentView==='account'&&/*#__PURE__*/_jsx(\"div\",{className:\"h-full overflow-y-auto max-w-2xl mx-auto p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md p-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-800 mb-6\",children:\"Account Settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center text-white text-3xl font-bold\",children:userName.charAt(0).toUpperCase()}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold text-gray-800\",children:userName}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:userEmail})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:userName,onChange:e=>setUserName(e.target.value),className:\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:userEmail,onChange:e=>setUserEmail(e.target.value),className:\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"pt-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Statistics\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-indigo-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Translations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-indigo-600\",children:history.length})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 rounded-lg p-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Active Chats\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:messages.length})]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition mt-6\",children:\"Save Changes\"})]})]})})]})]});};export default LanguageTranslator;","map":{"version":3,"names":["React","useState","useEffect","useRef","Globe","Send","History","User","Menu","X","Trash2","Download","Settings","Type","Copy","Check","Mic","Volume2","StopCircle","AlertCircle","LogOut","LoginPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","API_BASE_URL","process","env","REACT_APP_API_URL","LanguageTranslator","_languages$find","_languages$find2","_languages$find3","_languages$find4","messages","setMessages","input","setInput","sourceLang","setSourceLang","targetLang","setTargetLang","isTranslating","setIsTranslating","currentView","setCurrentView","history","setHistory","menuOpen","setMenuOpen","userName","setUserName","userEmail","setUserEmail","textInput","setTextInput","textOutput","setTextOutput","copied","setCopied","isRecording","setIsRecording","isSpeaking","setIsSpeaking","audioTranscript","setAudioTranscript","audioTranslation","setAudioTranslation","error","setError","availableLanguages","setAvailableLanguages","apiStatus","setApiStatus","lastTranslationTime","setLastTranslationTime","nextTranslationReadyTime","setNextTranslationReadyTime","isAuthenticated","setIsAuthenticated","currentUser","setCurrentUser","lastTranslationTimeRef","recognitionRef","messagesEndRef","user","localStorage","getItem","authToken","userData","JSON","parse","fullName","firstName","email","err","console","removeItem","languages","code","name","checkApiStatus","response","fetch","concat","ok","langResponse","data","json","success","interval","setInterval","clearInterval","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","translateText","text","Error","method","headers","body","stringify","source_lang","target_lang","user_email","translated_text","errorMsg","message","handleSend","trim","now","Date","timeSinceLastTranslation","RATE_LIMIT_MS","waitTime","Math","ceil","userMessage","id","type","lang","timestamp","toLocaleTimeString","prev","translation","botMessage","historyItem","original","translated","from","to","date","toLocaleDateString","time","clearHistory","clearChat","downloadHistory","content","map","item","join","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","handleTextTranslate","copyToClipboard","navigator","clipboard","writeText","setTimeout","swapLanguages","getLanguageCode","langMap","startRecording","window","SpeechRecognition","webkitSpeechRecognition","recognition","continuous","interimResults","maxAlternatives","finalTranscript","interimTranscript","onstart","log","onresult","event","i","results","length","transcript","isFinal","currentTranscript","onerror","onend","handleVoiceTranslation","start","stop","stopRecording","speakText","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","speak","alert","stopSpeaking","handleLogout","handleLoginSuccess","onLoginSuccess","className","children","onClick","title","value","onChange","e","target","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","find","l","placeholder","disabled","readOnly","msg","_languages$find5","style","animationDelay","ref","onKeyPress","key","_languages$find6","_languages$find7","charAt","toUpperCase"],"sources":["E:/projects/RealTimeTranslator/real-time-language-translator-main/frontend/src/App.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Globe, Send, History, User, Menu, X, Trash2, Download, Settings, Type, Copy, Check, Mic, Volume2, StopCircle, AlertCircle, LogOut } from 'lucide-react';\r\nimport LoginPage from './LoginPage';\r\n\r\n// API Configuration\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst LanguageTranslator = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [sourceLang, setSourceLang] = useState('en');\r\n  const [targetLang, setTargetLang] = useState('es');\r\n  const [isTranslating, setIsTranslating] = useState(false);\r\n  const [currentView, setCurrentView] = useState('chat');\r\n  const [history, setHistory] = useState([]);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [userName, setUserName] = useState('Guest User');\r\n  const [userEmail, setUserEmail] = useState('guest@translator.com');\r\n  const [textInput, setTextInput] = useState('');\r\n  const [textOutput, setTextOutput] = useState('');\r\n  const [copied, setCopied] = useState(false);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [isSpeaking, setIsSpeaking] = useState(false);\r\n  const [audioTranscript, setAudioTranscript] = useState('');\r\n  const [audioTranslation, setAudioTranslation] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [availableLanguages, setAvailableLanguages] = useState([]);\r\n  const [apiStatus, setApiStatus] = useState('disconnected');\r\n  const [lastTranslationTime, setLastTranslationTime] = useState(0);\r\n  const [nextTranslationReadyTime, setNextTranslationReadyTime] = useState(0);\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const lastTranslationTimeRef = useRef(0);\r\n  const recognitionRef = useRef(null);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Check if user is logged in on mount\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('user');\r\n    const authToken = localStorage.getItem('authToken');\r\n    \r\n    if (user && authToken) {\r\n      try {\r\n        const userData = JSON.parse(user);\r\n        setIsAuthenticated(true);\r\n        setCurrentUser(userData);\r\n        setUserName(userData.fullName || userData.firstName || 'User');\r\n        setUserEmail(userData.email || 'user@translator.com');\r\n      } catch (err) {\r\n        console.error('Error parsing user data:', err);\r\n        localStorage.removeItem('user');\r\n        localStorage.removeItem('authToken');\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const languages = [\r\n    { code: 'en', name: 'English' },\r\n    { code: 'es', name: 'Spanish' },\r\n    { code: 'fr', name: 'French' },\r\n    { code: 'de', name: 'German' },\r\n    { code: 'it', name: 'Italian' },\r\n    { code: 'pt', name: 'Portuguese' },\r\n    { code: 'ru', name: 'Russian' },\r\n    { code: 'ja', name: 'Japanese' },\r\n    { code: 'ko', name: 'Korean' },\r\n    { code: 'zh', name: 'Chinese' },\r\n    { code: 'ar', name: 'Arabic' },\r\n    { code: 'hi', name: 'Hindi' }\r\n  ];\r\n\r\n  // Initialize API connection and fetch available languages\r\n  useEffect(() => {\r\n    const checkApiStatus = async () => {\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/health`);\r\n        if (response.ok) {\r\n          setApiStatus('connected');\r\n          // Fetch available languages from backend\r\n          const langResponse = await fetch(`${API_BASE_URL}/languages`);\r\n          if (langResponse.ok) {\r\n            const data = await langResponse.json();\r\n            if (data.success && data.languages) {\r\n              setAvailableLanguages(data.languages);\r\n            }\r\n          }\r\n        } else {\r\n          setApiStatus('disconnected');\r\n          setError('Backend API is not responding properly');\r\n        }\r\n      } catch (err) {\r\n        setApiStatus('disconnected');\r\n        console.error('API connection error:', err);\r\n      }\r\n    };\r\n\r\n    checkApiStatus();\r\n    // Check API status every 30 seconds\r\n    const interval = setInterval(checkApiStatus, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const translateText = async (text) => {\r\n    setIsTranslating(true);\r\n    setError('');\r\n    \r\n    try {\r\n      if (apiStatus !== 'connected') {\r\n        throw new Error('Backend API is not available. Please ensure the server is running.');\r\n      }\r\n\r\n      // Get user email for API call\r\n      const userEmail = currentUser?.email || userEmail || 'anonymous@translator.app';\r\n\r\n      const response = await fetch(`${API_BASE_URL}/translate`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'X-User-Email': userEmail\r\n        },\r\n        body: JSON.stringify({\r\n          text: text,\r\n          source_lang: sourceLang,\r\n          target_lang: targetLang,\r\n          user_email: userEmail\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(data.error || 'Translation failed');\r\n      }\r\n\r\n      if (data.success) {\r\n        return data.translated_text;\r\n      } else {\r\n        throw new Error(data.error || 'Translation failed');\r\n      }\r\n    } catch (error) {\r\n      console.error('Translation error:', error);\r\n      const errorMsg = error.message || 'Translation error. Please try again.';\r\n      setError(errorMsg);\r\n      return `Error: ${errorMsg}`;\r\n    } finally {\r\n      setIsTranslating(false);\r\n    }\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    // Rate limiting check using ref for immediate feedback\r\n    const now = Date.now();\r\n    const timeSinceLastTranslation = now - lastTranslationTimeRef.current;\r\n    const RATE_LIMIT_MS = 20000; // 20 seconds - buffer to avoid Google Translate rate limiting\r\n\r\n    if (timeSinceLastTranslation < RATE_LIMIT_MS) {\r\n      const waitTime = Math.ceil((RATE_LIMIT_MS - timeSinceLastTranslation) / 1000);\r\n      setError(`Please wait ${waitTime} seconds before translating again (rate limiting)`);\r\n      return;\r\n    }\r\n\r\n    // Update rate limiting timestamp IMMEDIATELY (before translation starts)\r\n    lastTranslationTimeRef.current = now;\r\n    setLastTranslationTime(now);\r\n    setNextTranslationReadyTime(now + 20000);\r\n\r\n    const userMessage = {\r\n      id: Date.now(),\r\n      type: 'user',\r\n      text: input,\r\n      lang: sourceLang,\r\n      timestamp: new Date().toLocaleTimeString()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInput('');\r\n\r\n    const translation = await translateText(input);\r\n\r\n    const botMessage = {\r\n      id: Date.now() + 1,\r\n      type: 'bot',\r\n      text: translation,\r\n      lang: targetLang,\r\n      timestamp: new Date().toLocaleTimeString()\r\n    };\r\n\r\n    setMessages(prev => [...prev, botMessage]);\r\n    \r\n    const historyItem = {\r\n      id: Date.now(),\r\n      original: input,\r\n      translated: translation,\r\n      from: sourceLang,\r\n      to: targetLang,\r\n      date: new Date().toLocaleDateString(),\r\n      time: new Date().toLocaleTimeString()\r\n    };\r\n    \r\n    setHistory(prev => [historyItem, ...prev]);\r\n  };\r\n\r\n  const clearHistory = () => {\r\n    setHistory([]);\r\n  };\r\n\r\n  const clearChat = () => {\r\n    setMessages([]);\r\n  };\r\n\r\n  const downloadHistory = () => {\r\n    const content = history.map(item => \r\n      `[${item.date} ${item.time}]\\nFrom: ${item.from}  To: ${item.to}\\nOriginal: ${item.original}\\nTranslated: ${item.translated}\\n\\n`\r\n    ).join('---\\n\\n');\r\n    \r\n    const blob = new Blob([content], { type: 'text/plain' });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement('a');\r\n    a.href = url;\r\n    a.download = 'translation-history.txt';\r\n    a.click();\r\n  };\r\n\r\n  const handleTextTranslate = async () => {\r\n    if (!textInput.trim()) return;\r\n\r\n    // Rate limiting check using ref for immediate feedback\r\n    const now = Date.now();\r\n    const timeSinceLastTranslation = now - lastTranslationTimeRef.current;\r\n    const RATE_LIMIT_MS = 20000; // 20 seconds - buffer to avoid Google Translate rate limiting\r\n\r\n    if (timeSinceLastTranslation < RATE_LIMIT_MS) {\r\n      const waitTime = Math.ceil((RATE_LIMIT_MS - timeSinceLastTranslation) / 1000);\r\n      setError(`Please wait ${waitTime} seconds before translating again (rate limiting)`);\r\n      return;\r\n    }\r\n\r\n    // Update rate limiting timestamp IMMEDIATELY (before translation starts)\r\n    lastTranslationTimeRef.current = now;\r\n    setLastTranslationTime(now);\r\n    setNextTranslationReadyTime(now + 20000);\r\n\r\n    setIsTranslating(true);\r\n    const translation = await translateText(textInput);\r\n    setTextOutput(translation);\r\n    setIsTranslating(false);\r\n\r\n    const historyItem = {\r\n      id: Date.now(),\r\n      original: textInput,\r\n      translated: translation,\r\n      from: sourceLang,\r\n      to: targetLang,\r\n      date: new Date().toLocaleDateString(),\r\n      time: new Date().toLocaleTimeString()\r\n    };\r\n    \r\n    setHistory(prev => [historyItem, ...prev]);\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    navigator.clipboard.writeText(textOutput);\r\n    setCopied(true);\r\n    setTimeout(() => setCopied(false), 2000);\r\n  };\r\n\r\n  const swapLanguages = () => {\r\n    setSourceLang(targetLang);\r\n    setTargetLang(sourceLang);\r\n    setTextInput(textOutput);\r\n    setTextOutput(textInput);\r\n  };\r\n\r\n  const getLanguageCode = (lang) => {\r\n    const langMap = {\r\n      'en': 'en-US', 'es': 'es-ES', 'fr': 'fr-FR', 'de': 'de-DE',\r\n      'it': 'it-IT', 'pt': 'pt-PT', 'ru': 'ru-RU', 'ja': 'ja-JP',\r\n      'ko': 'ko-KR', 'zh': 'zh-CN', 'ar': 'ar-SA', 'hi': 'hi-IN',\r\n      'ta': 'ta-IN', 'si': 'si-LK', 'th': 'th-TH', 'vi': 'vi-VN',\r\n      'tr': 'tr-TR', 'pl': 'pl-PL', 'nl': 'nl-NL', 'sv': 'sv-SE'\r\n    };\r\n    return langMap[lang] || 'en-US';\r\n  };\r\n\r\n  const startRecording = () => {\r\n    if (!('webkitSpeechRecognition' in window || 'SpeechRecognition' in window)) {\r\n      setError('Speech recognition is not supported in your browser. Please use Chrome, Edge, or Safari.');\r\n      return;\r\n    }\r\n\r\n    // Clear previous errors and transcript\r\n    setError('');\r\n    setAudioTranscript('');\r\n    setAudioTranslation('');\r\n\r\n    try {\r\n      const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\r\n      const recognition = new SpeechRecognition();\r\n      \r\n      // Configure recognition\r\n      recognition.continuous = false;  // Changed to false for better control\r\n      recognition.interimResults = true;\r\n      recognition.maxAlternatives = 1;\r\n      recognition.lang = getLanguageCode(sourceLang);\r\n      \r\n      let finalTranscript = '';\r\n      let interimTranscript = '';\r\n\r\n      recognition.onstart = () => {\r\n        setIsRecording(true);\r\n        setError('');\r\n        console.log('Speech recognition started');\r\n      };\r\n\r\n      recognition.onresult = (event) => {\r\n        finalTranscript = '';\r\n        interimTranscript = '';\r\n        \r\n        for (let i = 0; i < event.results.length; i++) {\r\n          const transcript = event.results[i][0].transcript;\r\n          if (event.results[i].isFinal) {\r\n            finalTranscript += transcript;\r\n          } else {\r\n            interimTranscript += transcript;\r\n          }\r\n        }\r\n        \r\n        const currentTranscript = finalTranscript || interimTranscript;\r\n        setAudioTranscript(currentTranscript);\r\n      };\r\n\r\n      recognition.onerror = (event) => {\r\n        console.error('Speech recognition error:', event.error);\r\n        setIsRecording(false);\r\n        \r\n        switch (event.error) {\r\n          case 'no-speech':\r\n            setError('No speech detected. Please try again and speak clearly.');\r\n            break;\r\n          case 'audio-capture':\r\n            setError('Microphone access denied or not available.');\r\n            break;\r\n          case 'not-allowed':\r\n            setError('Microphone permission denied. Please allow microphone access.');\r\n            break;\r\n          case 'network':\r\n            setError('Network error. Please check your internet connection.');\r\n            break;\r\n          case 'service-not-allowed':\r\n            setError('Speech recognition service not available.');\r\n            break;\r\n          default:\r\n            setError(`Speech recognition error: ${event.error}`);\r\n        }\r\n      };\r\n\r\n      recognition.onend = () => {\r\n        setIsRecording(false);\r\n        console.log('Speech recognition ended');\r\n        \r\n        // If we have a transcript, automatically translate it\r\n        if (finalTranscript.trim()) {\r\n          handleVoiceTranslation(finalTranscript.trim());\r\n        } else if (interimTranscript.trim()) {\r\n          handleVoiceTranslation(interimTranscript.trim());\r\n        }\r\n      };\r\n\r\n      recognition.start();\r\n      recognitionRef.current = recognition;\r\n      \r\n      // Set a timeout to auto-stop after 10 seconds\r\n      setTimeout(() => {\r\n        if (recognitionRef.current && isRecording) {\r\n          recognition.stop();\r\n        }\r\n      }, 10000);\r\n      \r\n    } catch (error) {\r\n      console.error('Failed to start speech recognition:', error);\r\n      setError('Failed to start speech recognition. Please try again.');\r\n      setIsRecording(false);\r\n    }\r\n  };\r\n\r\n  const handleVoiceTranslation = async (transcript) => {\r\n    if (!transcript.trim()) return;\r\n    \r\n    try {\r\n      setIsTranslating(true);\r\n      const translation = await translateText(transcript);\r\n      setAudioTranslation(translation);\r\n      \r\n      // Add to history\r\n      const historyItem = {\r\n        id: Date.now(),\r\n        original: transcript,\r\n        translated: translation,\r\n        from: sourceLang,\r\n        to: targetLang,\r\n        date: new Date().toLocaleDateString(),\r\n        time: new Date().toLocaleTimeString()\r\n      };\r\n      \r\n      setHistory(prev => [historyItem, ...prev]);\r\n    } catch (error) {\r\n      console.error('Translation error:', error);\r\n      setError('Translation failed. Please try again.');\r\n    } finally {\r\n      setIsTranslating(false);\r\n    }\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (recognitionRef.current) {\r\n      recognitionRef.current.stop();\r\n      recognitionRef.current = null;\r\n    }\r\n    setIsRecording(false);\r\n  };\r\n\r\n  const speakText = (text, lang) => {\r\n    if ('speechSynthesis' in window) {\r\n      window.speechSynthesis.cancel();\r\n      \r\n      const utterance = new SpeechSynthesisUtterance(text);\r\n      utterance.lang = lang === 'en' ? 'en-US' : \r\n                       lang === 'es' ? 'es-ES' :\r\n                       lang === 'fr' ? 'fr-FR' :\r\n                       lang === 'de' ? 'de-DE' :\r\n                       lang === 'it' ? 'it-IT' :\r\n                       lang === 'pt' ? 'pt-PT' :\r\n                       lang === 'ru' ? 'ru-RU' :\r\n                       lang === 'ja' ? 'ja-JP' :\r\n                       lang === 'ko' ? 'ko-KR' :\r\n                       lang === 'zh' ? 'zh-CN' :\r\n                       lang === 'ar' ? 'ar-SA' :\r\n                       lang === 'hi' ? 'hi-IN' : 'en-US';\r\n      \r\n      utterance.onstart = () => setIsSpeaking(true);\r\n      utterance.onend = () => setIsSpeaking(false);\r\n      utterance.onerror = () => setIsSpeaking(false);\r\n      \r\n      window.speechSynthesis.speak(utterance);\r\n    } else {\r\n      alert('Text-to-speech is not supported in your browser.');\r\n    }\r\n  };\r\n\r\n  const stopSpeaking = () => {\r\n    if ('speechSynthesis' in window) {\r\n      window.speechSynthesis.cancel();\r\n      setIsSpeaking(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('user');\r\n    localStorage.removeItem('authToken');\r\n    setIsAuthenticated(false);\r\n    setCurrentUser(null);\r\n    setUserName('Guest User');\r\n    setUserEmail('guest@translator.com');\r\n    setMessages([]);\r\n    setHistory([]);\r\n    setCurrentView('chat');\r\n  };\r\n\r\n  const handleLoginSuccess = (userData) => {\r\n    setIsAuthenticated(true);\r\n    setCurrentUser(userData);\r\n    setUserName(userData.fullName);\r\n    setUserEmail(userData.email);\r\n  };\r\n\r\n  // If not authenticated, show login page\r\n  if (!isAuthenticated) {\r\n    return <LoginPage onLoginSuccess={handleLoginSuccess} />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col h-screen bg-gradient-to-br from-blue-50 to-indigo-100\">\r\n      {/* Error Banner */}\r\n      {error && (\r\n        <div className=\"bg-red-50 border border-red-200 p-3 flex items-start space-x-2\">\r\n          <AlertCircle className=\"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5\" />\r\n          <div className=\"flex-1\">\r\n            <p className=\"text-sm text-red-800\">{error}</p>\r\n          </div>\r\n          <button\r\n            onClick={() => setError('')}\r\n            className=\"text-red-600 hover:text-red-800\"\r\n          >\r\n            <X className=\"w-4 h-4\" />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* API Status Banner */}\r\n      {apiStatus !== 'connected' && (\r\n        <div className=\"bg-yellow-50 border border-yellow-200 p-2 flex items-center justify-between text-sm\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            <div className=\"w-2 h-2 bg-yellow-600 rounded-full animate-pulse\"></div>\r\n            <span className=\"text-yellow-800\">Backend API: Connecting...</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Header */}\r\n      <header className=\"bg-white shadow-md px-4 py-3 flex items-center justify-between\">\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Globe className=\"w-8 h-8 text-indigo-600\" />\r\n          <h1 className=\"text-xl font-bold text-gray-800\">TranslatePro</h1>\r\n          <div className=\"flex items-center space-x-1 ml-4\">\r\n            <div className={`w-2 h-2 rounded-full ${apiStatus === 'connected' ? 'bg-green-500' : 'bg-red-500'}`}></div>\r\n            <span className=\"text-xs text-gray-600\">{apiStatus === 'connected' ? 'Connected' : 'Offline'}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <nav className=\"hidden md:flex space-x-4\">\r\n          <button\r\n            onClick={() => setCurrentView('text')}\r\n            className={`px-4 py-2 rounded-lg transition flex items-center space-x-2 ${\r\n              currentView === 'text' \r\n                ? 'bg-indigo-600 text-white' \r\n                : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <Type className=\"w-4 h-4\" />\r\n            <span>Text</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentView('voice')}\r\n            className={`px-4 py-2 rounded-lg transition flex items-center space-x-2 ${\r\n              currentView === 'voice' \r\n                ? 'bg-indigo-600 text-white' \r\n                : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <Mic className=\"w-4 h-4\" />\r\n            <span>Voice</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentView('chat')}\r\n            className={`px-4 py-2 rounded-lg transition ${\r\n              currentView === 'chat' \r\n                ? 'bg-indigo-600 text-white' \r\n                : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            Chat\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentView('history')}\r\n            className={`px-4 py-2 rounded-lg transition flex items-center space-x-2 ${\r\n              currentView === 'history' \r\n                ? 'bg-indigo-600 text-white' \r\n                : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <History className=\"w-4 h-4\" />\r\n            <span>History</span>\r\n          </button>\r\n          <button\r\n            onClick={() => setCurrentView('account')}\r\n            className={`px-4 py-2 rounded-lg transition flex items-center space-x-2 ${\r\n              currentView === 'account' \r\n                ? 'bg-indigo-600 text-white' \r\n                : 'text-gray-600 hover:bg-gray-100'\r\n            }`}\r\n          >\r\n            <User className=\"w-4 h-4\" />\r\n            <span>Account</span>\r\n          </button>\r\n          <button\r\n            onClick={handleLogout}\r\n            className=\"px-4 py-2 rounded-lg text-gray-600 hover:bg-red-50 hover:text-red-600 transition flex items-center space-x-2\"\r\n            title=\"Logout\"\r\n          >\r\n            <LogOut className=\"w-4 h-4\" />\r\n            <span>Logout</span>\r\n          </button>\r\n        </nav>\r\n\r\n        <button \r\n          className=\"md:hidden\"\r\n          onClick={() => setMenuOpen(!menuOpen)}\r\n        >\r\n          {menuOpen ? <X className=\"w-6 h-6\" /> : <Menu className=\"w-6 h-6\" />}\r\n        </button>\r\n      </header>\r\n\r\n      {/* Mobile Menu */}\r\n      {menuOpen && (\r\n        <div className=\"md:hidden bg-white shadow-lg p-4 space-y-2\">\r\n          <button\r\n            onClick={() => { setCurrentView('text'); setMenuOpen(false); }}\r\n            className={`w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 ${\r\n              currentView === 'text' ? 'bg-indigo-600 text-white' : 'text-gray-600'\r\n            }`}\r\n          >\r\n            <Type className=\"w-4 h-4\" />\r\n            <span>Text Translator</span>\r\n          </button>\r\n          <button\r\n            onClick={() => { setCurrentView('voice'); setMenuOpen(false); }}\r\n            className={`w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 ${\r\n              currentView === 'voice' ? 'bg-indigo-600 text-white' : 'text-gray-600'\r\n            }`}\r\n          >\r\n            <Mic className=\"w-4 h-4\" />\r\n            <span>Voice Translator</span>\r\n          </button>\r\n          <button\r\n            onClick={() => { setCurrentView('chat'); setMenuOpen(false); }}\r\n            className={`w-full px-4 py-2 rounded-lg text-left ${\r\n              currentView === 'chat' ? 'bg-indigo-600 text-white' : 'text-gray-600'\r\n            }`}\r\n          >\r\n            Chat Translator\r\n          </button>\r\n          <button\r\n            onClick={() => { setCurrentView('history'); setMenuOpen(false); }}\r\n            className={`w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 ${\r\n              currentView === 'history' ? 'bg-indigo-600 text-white' : 'text-gray-600'\r\n            }`}\r\n          >\r\n            <History className=\"w-4 h-4\" />\r\n            <span>History</span>\r\n          </button>\r\n          <button\r\n            onClick={() => { setCurrentView('account'); setMenuOpen(false); }}\r\n            className={`w-full px-4 py-2 rounded-lg text-left flex items-center space-x-2 ${\r\n              currentView === 'account' ? 'bg-indigo-600 text-white' : 'text-gray-600'\r\n            }`}\r\n          >\r\n            <User className=\"w-4 h-4\" />\r\n            <span>Account</span>\r\n          </button>\r\n          <button\r\n            onClick={() => { handleLogout(); setMenuOpen(false); }}\r\n            className=\"w-full px-4 py-2 rounded-lg text-left text-red-600 hover:bg-red-50 flex items-center space-x-2\"\r\n          >\r\n            <LogOut className=\"w-4 h-4\" />\r\n            <span>Logout</span>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <main className=\"flex-1 overflow-hidden\">\r\n        {currentView === 'text' && (\r\n          <div className=\"h-full overflow-y-auto max-w-6xl mx-auto p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center space-x-2\">\r\n                <Type className=\"w-6 h-6 text-indigo-600\" />\r\n                <span>Text Translator</span>\r\n              </h2>\r\n\r\n              {/* Language Selector */}\r\n              <div className=\"flex flex-wrap gap-4 items-center justify-center mb-6\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700\">From:</label>\r\n                  <select\r\n                    value={sourceLang}\r\n                    onChange={(e) => setSourceLang(e.target.value)}\r\n                    className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  >\r\n                    {languages.map(lang => (\r\n                      <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <button\r\n                  onClick={swapLanguages}\r\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition\"\r\n                  title=\"Swap languages\"\r\n                >\r\n                  <svg className=\"w-6 h-6 text-gray-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4\" />\r\n                  </svg>\r\n                </button>\r\n                \r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700\">To:</label>\r\n                  <select\r\n                    value={targetLang}\r\n                    onChange={(e) => setTargetLang(e.target.value)}\r\n                    className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  >\r\n                    {languages.map(lang => (\r\n                      <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Text Areas */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Enter text ({languages.find(l => l.code === sourceLang)?.name})\r\n                  </label>\r\n                  <textarea\r\n                    value={textInput}\r\n                    onChange={(e) => setTextInput(e.target.value)}\r\n                    placeholder=\"Type or paste text here...\"\r\n                    className=\"w-full h-64 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent resize-none\"\r\n                    disabled={isTranslating}\r\n                  />\r\n                  <div className=\"flex items-center justify-between mt-2\">\r\n                    <span className=\"text-sm text-gray-500\">{textInput.length} characters</span>\r\n                    <button\r\n                      onClick={() => setTextInput('')}\r\n                      className=\"text-sm text-red-500 hover:text-red-700\"\r\n                    >\r\n                      Clear\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Translation ({languages.find(l => l.code === targetLang)?.name})\r\n                  </label>\r\n                  <div className=\"relative\">\r\n                    <textarea\r\n                      value={textOutput}\r\n                      readOnly\r\n                      placeholder=\"Translation will appear here...\"\r\n                      className=\"w-full h-64 border border-gray-300 rounded-lg px-4 py-3 bg-gray-50 resize-none\"\r\n                    />\r\n                    {textOutput && (\r\n                      <button\r\n                        onClick={copyToClipboard}\r\n                        className=\"absolute top-3 right-3 p-2 bg-white rounded-lg hover:bg-gray-100 transition shadow-sm\"\r\n                        title=\"Copy to clipboard\"\r\n                      >\r\n                        {copied ? (\r\n                          <Check className=\"w-5 h-5 text-green-500\" />\r\n                        ) : (\r\n                          <Copy className=\"w-5 h-5 text-gray-600\" />\r\n                        )}\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center justify-between mt-2\">\r\n                    <span className=\"text-sm text-gray-500\">{textOutput.length} characters</span>\r\n                    {copied && <span className=\"text-sm text-green-500\">Copied!</span>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Translate Button */}\r\n              <button\r\n                onClick={handleTextTranslate}\r\n                disabled={isTranslating || !textInput.trim()}\r\n                className=\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed font-medium flex items-center justify-center space-x-2\"\r\n              >\r\n                {isTranslating ? (\r\n                  <>\r\n                    <div className=\"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\r\n                    <span>Translating...</span>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Globe className=\"w-5 h-5\" />\r\n                    <span>Translate</span>\r\n                  </>\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'voice' && (\r\n          <div className=\"h-full overflow-y-auto max-w-4xl mx-auto p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-6 flex items-center space-x-2\">\r\n                <Mic className=\"w-6 h-6 text-indigo-600\" />\r\n                <span>Voice Translator</span>\r\n              </h2>\r\n\r\n              {/* Language Selector */}\r\n              <div className=\"flex flex-wrap gap-4 items-center justify-center mb-6\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700\">Speak in:</label>\r\n                  <select\r\n                    value={sourceLang}\r\n                    onChange={(e) => setSourceLang(e.target.value)}\r\n                    className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  >\r\n                    {languages.map(lang => (\r\n                      <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                \r\n                <div className=\"text-gray-400\"></div>\r\n                \r\n                <div className=\"flex items-center space-x-2\">\r\n                  <label className=\"text-sm font-medium text-gray-700\">Translate to:</label>\r\n                  <select\r\n                    value={targetLang}\r\n                    onChange={(e) => setTargetLang(e.target.value)}\r\n                    className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  >\r\n                    {languages.map(lang => (\r\n                      <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Mode Selection */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                <div className=\"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-lg border-2 border-blue-200\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\">\r\n                    <Mic className=\"w-5 h-5 text-blue-600\" />\r\n                    <span>Speech to Speech</span>\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600\">Speak and hear translation</p>\r\n                </div>\r\n                <div className=\"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-lg border-2 border-green-200\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\">\r\n                    <Mic className=\"w-5 h-5 text-green-600\" />\r\n                    <Type className=\"w-5 h-5 text-green-600\" />\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600\">Speech to Text translation</p>\r\n                </div>\r\n                <div className=\"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-lg border-2 border-purple-200\">\r\n                  <h3 className=\"font-semibold text-gray-800 mb-2 flex items-center space-x-2\">\r\n                    <Type className=\"w-5 h-5 text-purple-600\" />\r\n                    <Volume2 className=\"w-5 h-5 text-purple-600\" />\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600\">Text to Speech translation</p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Recording Interface */}\r\n              <div className=\"text-center mb-6\">\r\n                <div className={`inline-flex items-center justify-center w-32 h-32 rounded-full mb-4 transition-all ${\r\n                  isRecording ? 'bg-red-500 animate-pulse' : 'bg-indigo-600 hover:bg-indigo-700'\r\n                }`}>\r\n                  {isRecording ? (\r\n                    <button onClick={stopRecording} className=\"text-white\">\r\n                      <StopCircle className=\"w-16 h-16\" />\r\n                    </button>\r\n                  ) : (\r\n                    <button onClick={startRecording} className=\"text-white\" disabled={isTranslating}>\r\n                      <Mic className=\"w-16 h-16\" />\r\n                    </button>\r\n                  )}\r\n                </div>\r\n                <p className=\"text-gray-600 font-medium\">\r\n                  {isRecording ? 'Recording... Click to stop' : 'Click microphone to start speaking'}\r\n                </p>\r\n                {isTranslating && (\r\n                  <p className=\"text-indigo-600 mt-2\">Translating...</p>\r\n                )}\r\n              </div>\r\n\r\n              {/* Transcription and Translation Display */}\r\n              {(audioTranscript || audioTranslation) && (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                  <div className=\"bg-gray-50 rounded-lg p-4\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h3 className=\"font-semibold text-gray-800\">\r\n                        Original ({languages.find(l => l.code === sourceLang)?.name})\r\n                      </h3>\r\n                      {audioTranscript && (\r\n                        <button\r\n                          onClick={() => speakText(audioTranscript, sourceLang)}\r\n                          disabled={isSpeaking}\r\n                          className=\"text-indigo-600 hover:text-indigo-700 disabled:opacity-50\"\r\n                          title=\"Listen\"\r\n                        >\r\n                          <Volume2 className=\"w-5 h-5\" />\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                    <p className=\"text-gray-800 min-h-20\">{audioTranscript}</p>\r\n                  </div>\r\n\r\n                  <div className=\"bg-indigo-50 rounded-lg p-4\">\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                      <h3 className=\"font-semibold text-gray-800\">\r\n                        Translation ({languages.find(l => l.code === targetLang)?.name})\r\n                      </h3>\r\n                      <div className=\"flex space-x-2\">\r\n                        {audioTranslation && (\r\n                          <>\r\n                            <button\r\n                              onClick={() => speakText(audioTranslation, targetLang)}\r\n                              disabled={isSpeaking}\r\n                              className=\"text-indigo-600 hover:text-indigo-700 disabled:opacity-50\"\r\n                              title=\"Listen\"\r\n                            >\r\n                              <Volume2 className=\"w-5 h-5\" />\r\n                            </button>\r\n                            {isSpeaking && (\r\n                              <button\r\n                                onClick={stopSpeaking}\r\n                                className=\"text-red-600 hover:text-red-700\"\r\n                                title=\"Stop\"\r\n                              >\r\n                                <StopCircle className=\"w-5 h-5\" />\r\n                              </button>\r\n                            )}\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    <p className=\"text-gray-800 min-h-20\">{audioTranslation}</p>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Clear Button */}\r\n              {(audioTranscript || audioTranslation) && (\r\n                <button\r\n                  onClick={() => {\r\n                    setAudioTranscript('');\r\n                    setAudioTranslation('');\r\n                    stopSpeaking();\r\n                  }}\r\n                  className=\"w-full mt-4 text-red-500 hover:text-red-700 py-2 rounded-lg hover:bg-red-50 transition\"\r\n                >\r\n                  Clear All\r\n                </button>\r\n              )}\r\n\r\n              {/* Browser Support Note */}\r\n              <div className=\"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n                <p className=\"text-sm text-yellow-800\">\r\n                  <strong>Note:</strong> Voice features work best in Chrome, Edge, or Safari browsers. \r\n                  Make sure to allow microphone access when prompted.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'chat' && (\r\n          <div className=\"h-full flex flex-col max-w-4xl mx-auto p-4\">\r\n            {/* Language Selector */}\r\n            <div className=\"bg-white rounded-lg shadow-md p-4 mb-4 flex flex-wrap gap-4 items-center justify-between\">\r\n              <div className=\"flex items-center space-x-2\">\r\n                <label className=\"text-sm font-medium text-gray-700\">From:</label>\r\n                <select\r\n                  value={sourceLang}\r\n                  onChange={(e) => setSourceLang(e.target.value)}\r\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                >\r\n                  {languages.map(lang => (\r\n                    <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n              \r\n              <div className=\"text-gray-400\"></div>\r\n              \r\n              <div className=\"flex items-center space-x-2\">\r\n                <label className=\"text-sm font-medium text-gray-700\">To:</label>\r\n                <select\r\n                  value={targetLang}\r\n                  onChange={(e) => setTargetLang(e.target.value)}\r\n                  className=\"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                >\r\n                  {languages.map(lang => (\r\n                    <option key={lang.code} value={lang.code}>{lang.name}</option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {messages.length > 0 && (\r\n                <button\r\n                  onClick={clearChat}\r\n                  className=\"ml-auto text-red-500 hover:text-red-700 text-sm flex items-center space-x-1\"\r\n                >\r\n                  <Trash2 className=\"w-4 h-4\" />\r\n                  <span>Clear</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n\r\n            {/* Messages */}\r\n            <div className=\"flex-1 bg-white rounded-lg shadow-md overflow-y-auto p-4 space-y-4\">\r\n              {messages.length === 0 ? (\r\n                <div className=\"h-full flex items-center justify-center text-gray-400\">\r\n                  <div className=\"text-center\">\r\n                    <Globe className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\r\n                    <p className=\"text-lg\">Start translating...</p>\r\n                    <p className=\"text-sm mt-2\">Type a message below to begin</p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                messages.map(msg => (\r\n                  <div\r\n                    key={msg.id}\r\n                    className={`flex ${msg.type === 'user' ? 'justify-end' : 'justify-start'}`}\r\n                  >\r\n                    <div\r\n                      className={`max-w-xs md:max-w-md px-4 py-3 rounded-2xl ${\r\n                        msg.type === 'user'\r\n                          ? 'bg-indigo-600 text-white'\r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}\r\n                    >\r\n                      <p className=\"text-sm mb-1\">{msg.text}</p>\r\n                      <p className=\"text-xs opacity-70 flex items-center justify-between\">\r\n                        <span>{languages.find(l => l.code === msg.lang)?.name}</span>\r\n                        <span>{msg.timestamp}</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n              {isTranslating && (\r\n                <div className=\"flex justify-start\">\r\n                  <div className=\"bg-gray-100 px-4 py-3 rounded-2xl\">\r\n                    <div className=\"flex space-x-2\">\r\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\r\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\r\n                      <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div ref={messagesEndRef} />\r\n            </div>\r\n\r\n            {/* Input */}\r\n            <div className=\"mt-4 flex space-x-2\">\r\n              <input\r\n                type=\"text\"\r\n                value={input}\r\n                onChange={(e) => setInput(e.target.value)}\r\n                onKeyPress={(e) => e.key === 'Enter' && handleSend()}\r\n                placeholder=\"Type your message...\"\r\n                className=\"flex-1 border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                disabled={isTranslating}\r\n              />\r\n              <button\r\n                onClick={handleSend}\r\n                disabled={isTranslating || !input.trim()}\r\n                className=\"bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <Send className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'history' && (\r\n          <div className=\"h-full overflow-y-auto max-w-4xl mx-auto p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <div className=\"flex items-center justify-between mb-6\">\r\n                <h2 className=\"text-2xl font-bold text-gray-800\">Translation History</h2>\r\n                <div className=\"flex space-x-2\">\r\n                  {history.length > 0 && (\r\n                    <>\r\n                      <button\r\n                        onClick={downloadHistory}\r\n                        className=\"text-indigo-600 hover:text-indigo-700 flex items-center space-x-1\"\r\n                      >\r\n                        <Download className=\"w-4 h-4\" />\r\n                        <span>Export</span>\r\n                      </button>\r\n                      <button\r\n                        onClick={clearHistory}\r\n                        className=\"text-red-500 hover:text-red-700 flex items-center space-x-1\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                        <span>Clear</span>\r\n                      </button>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {history.length === 0 ? (\r\n                <div className=\"text-center py-12 text-gray-400\">\r\n                  <History className=\"w-16 h-16 mx-auto mb-4 opacity-50\" />\r\n                  <p>No translation history yet</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {history.map(item => (\r\n                    <div key={item.id} className=\"border border-gray-200 rounded-lg p-4 hover:shadow-md transition\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <span className=\"text-sm text-gray-500\">\r\n                          {languages.find(l => l.code === item.from)?.name}  {languages.find(l => l.code === item.to)?.name}\r\n                        </span>\r\n                        <span className=\"text-xs text-gray-400\">{item.date} {item.time}</span>\r\n                      </div>\r\n                      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <p className=\"text-xs font-semibold text-gray-600 mb-1\">Original</p>\r\n                          <p className=\"text-gray-800\">{item.original}</p>\r\n                        </div>\r\n                        <div>\r\n                          <p className=\"text-xs font-semibold text-gray-600 mb-1\">Translation</p>\r\n                          <p className=\"text-gray-800\">{item.translated}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {currentView === 'account' && (\r\n          <div className=\"h-full overflow-y-auto max-w-2xl mx-auto p-4\">\r\n            <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n              <h2 className=\"text-2xl font-bold text-gray-800 mb-6\">Account Settings</h2>\r\n              \r\n              <div className=\"flex items-center space-x-4 mb-8\">\r\n                <div className=\"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center text-white text-3xl font-bold\">\r\n                  {userName.charAt(0).toUpperCase()}\r\n                </div>\r\n                <div>\r\n                  <h3 className=\"text-xl font-semibold text-gray-800\">{userName}</h3>\r\n                  <p className=\"text-gray-500\">{userEmail}</p>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Name</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={userName}\r\n                    onChange={(e) => setUserName(e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">Email</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={userEmail}\r\n                    onChange={(e) => setUserEmail(e.target.value)}\r\n                    className=\"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"pt-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2\">\r\n                    <Settings className=\"w-5 h-5\" />\r\n                    <span>Statistics</span>\r\n                  </h3>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div className=\"bg-indigo-50 rounded-lg p-4\">\r\n                      <p className=\"text-sm text-gray-600\">Total Translations</p>\r\n                      <p className=\"text-2xl font-bold text-indigo-600\">{history.length}</p>\r\n                    </div>\r\n                    <div className=\"bg-green-50 rounded-lg p-4\">\r\n                      <p className=\"text-sm text-gray-600\">Active Chats</p>\r\n                      <p className=\"text-2xl font-bold text-green-600\">{messages.length}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <button className=\"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 transition mt-6\">\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LanguageTranslator;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}